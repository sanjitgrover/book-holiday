"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
const aws_sdk_1 = require("aws-sdk");
const uuid_1 = require("uuid");
const dbClient = new aws_sdk_1.DynamoDB.DocumentClient();
async function handler(event, context) {
    const result = {
        statusCode: 200,
        body: 'DynamoDB insert'
    };
    const item = typeof event.body == 'object' ? event.body : JSON.parse(event.body);
    item.spaceId = (0, uuid_1.v4)();
    try {
        await dbClient.put({
            TableName: 'SpaceTable',
            Item: item
        });
    }
    catch (error) {
        result.body = 'error';
    }
    console.log(result);
    result.body = JSON.stringify(`Created item with Id: ${item.spaceId}`);
    return result;
}
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3JlYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ3JlYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFpQztBQUVqQywrQkFBd0I7QUFFeEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxrQkFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBRS9DLEtBQUssVUFBVSxPQUFPLENBQUMsS0FBMkIsRUFBRSxPQUFlO0lBQy9ELE1BQU0sTUFBTSxHQUF1QjtRQUMvQixVQUFVLEVBQUMsR0FBRztRQUNkLElBQUksRUFBQyxpQkFBaUI7S0FDekIsQ0FBQTtJQUNELE1BQU0sSUFBSSxHQUFHLE9BQU8sS0FBSyxDQUFDLElBQUksSUFBSSxRQUFRLENBQUEsQ0FBQyxDQUFBLEtBQUssQ0FBQyxJQUFJLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlFLElBQUksQ0FBQyxPQUFPLEdBQUUsSUFBQSxTQUFFLEdBQUUsQ0FBQztJQUVuQixJQUFHO1FBQ0MsTUFBTSxRQUFRLENBQUMsR0FBRyxDQUFDO1lBQ2YsU0FBUyxFQUFFLFlBQVk7WUFDdkIsSUFBSSxFQUFFLElBQUk7U0FDYixDQUFDLENBQUE7S0FDTDtJQUFBLE9BQU0sS0FBSyxFQUFDO1FBQ1QsTUFBTSxDQUFDLElBQUksR0FBQyxPQUFPLENBQUE7S0FDdEI7SUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCLE1BQU0sQ0FBQyxJQUFJLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDcEUsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUVPLDBCQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEeW5hbW9EQn0gZnJvbSAnYXdzLXNkayc7XG5pbXBvcnQge0FQSUdhdGV3YXlQcm94eUV2ZW50LCBBUElHYXRld2F5UHJveHlSZXN1bHQsIENvbnRleHR9IGZyb20gJ2F3cy1sYW1iZGEnO1xuaW1wb3J0IHt2NH0gZnJvbSAndXVpZCc7XG5cbmNvbnN0IGRiQ2xpZW50ID0gbmV3IER5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQ6IEFQSUdhdGV3YXlQcm94eUV2ZW50LCBjb250ZXh0OkNvbnRleHQpOlByb21pc2U8QVBJR2F0ZXdheVByb3h5UmVzdWx0PntcbiAgICBjb25zdCByZXN1bHQ6QVBJR2F0ZXdheVByb3h5UmVzdWx0PXtcbiAgICAgICAgc3RhdHVzQ29kZToyMDAsXG4gICAgICAgIGJvZHk6J0R5bmFtb0RCIGluc2VydCdcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHR5cGVvZiBldmVudC5ib2R5ID09ICdvYmplY3QnP2V2ZW50LmJvZHk6IEpTT04ucGFyc2UoZXZlbnQuYm9keSk7XG4gICAgaXRlbS5zcGFjZUlkPSB2NCgpO1xuICAgIFxuICAgIHRyeXtcbiAgICAgICAgYXdhaXQgZGJDbGllbnQucHV0KHtcbiAgICAgICAgICAgIFRhYmxlTmFtZTogJ1NwYWNlVGFibGUnLFxuICAgICAgICAgICAgSXRlbTogaXRlbVxuICAgICAgICB9KVxuICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIHJlc3VsdC5ib2R5PSdlcnJvcidcbiAgICB9XG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICByZXN1bHQuYm9keT1KU09OLnN0cmluZ2lmeShgQ3JlYXRlZCBpdGVtIHdpdGggSWQ6ICR7aXRlbS5zcGFjZUlkfWApO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7aGFuZGxlcn0iXX0=